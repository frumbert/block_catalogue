{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template block_catalogue/view-cards

    This template renders the cards view for the catalogue block.
    NO IT DOESN'T, but it DOES direct another template to do it

    It DEFINES the template SECTIONS that are rendered elsewhere BY the catalogue block

    it has a  [< block_catalogue/coursecards] which is a container that defines the templates used by that template (like 'with temp/late, define these')

    it means "go load block_catalogue/coursecards" and "when you encounter a [$thing][/thing], use ME to figure out what "thing" does.

    so a [$something][/something] elsewhere will use this file to find out what should be in that section
    which is defined here. e.g. [$menu][/menu] is USED over in coursecard.mustache which is used by coursecards.mustache



    Example context (json):
    {
        "courses": [
            {
                "name": "Assignment due 1",
                "viewurl": "https://moodlesite/course/view.php?id=2",
                "courseimage": "https://moodlesite/pluginfile/123/course/overviewfiles/123.jpg",
                "fullname": "Course 3 for \"Statistical and Computational Tools\" ",
                "hasprogress": true,
                "progress": 10,
                "coursecategory": "Category 1",
                "visible": true
            }
        ]
    }
}}

{{< block_catalogue/coursecards }}
    {{$menu}}
    {{$actionmenu}}
        <div class="card-footer menu border-0 bg-white ms-auto p-2">
            {{> block_catalogue/course-action-menu }}
        </div>
    {{/actionmenu}}
    {{/menu}}
    {{$progress}}
        {{#hasprogress}}
            <div class="card-footer border-0 bg-white w-100">
                {{> block_catalogue/progress-bar}}
            </div>
        {{/hasprogress}}
    {{/progress}}
    {{$coursename}}
        <span class="multiline" title="{{fullname}}">
            <span class="visually-hidden">{{{fullname}}}</span>
            <span aria-hidden="true">
                {{#shortentext}}150, {{{fullname}}} {{/shortentext}}
            </span>
        </span>
    {{/coursename}}
    {{$coursesummary}}
    <span class="multiline summary">
        <span class="visually-hidden">{{#str}}aria:summary, block_catalogue{{/str}}</span>
        {{#shortentext}}384, {{{summary}}} {{/shortentext}}
    </span>
    {{/coursesummary}}
    {{$coursecategory}}
        {{#showcoursecategory}}
            <span class="visually-hidden">
                {{#str}}aria:coursecategory, core_course{{/str}}
            </span>
            <span class="categoryname text-truncate category-{{categorycss}}">
                {{{coursecategory}}}
            </span>
        {{/showcoursecategory}}
    {{/coursecategory}}
    {{$divider}}
        {{#showcoursecategory}}
            <div class="px-1">|</div>
        {{/showcoursecategory}}
    {{/divider}}
    {{$coursetags}}
      <span class="visually-hidden">
          {{#str}} aria:tags, block_catalogue{{/str}}
      </span>
      {{{tags}}}
    {{/coursetags}}
{{/ block_catalogue/coursecards }}
